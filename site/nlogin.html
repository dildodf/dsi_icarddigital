<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Estabelecimento</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h2>IcardDigital</h2>
        <style>
            body {
                background-image: url('/site/img/Gemini_Generated_Image_psg3odpsg3odpsg3.png');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
                background-attachment: fixed;
                min-height: 100vh;
            }
        </style>
        <p>Conectando você à rede exclusiva que garante a máxima excelência em cada produto e serviço oferecido</p>
    <div class="container">
        <h2>Cadastro de Estabelecimento</h2>
        <form id="cadastroForm" onsubmit="return validarFormulario()" class="responsive-form"></form>
            <div class="form-group">
                <label class="required" style="text-align: left;">Nome Completo</label>
                <input type="text" id="nome" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Telefone de Contato</label>
                <input type="tel" id="telefone" required 
                       placeholder="(00) 00000-0000" maxlength="15">
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Nome do Estabelecimento</label>
                <input type="text" id="estabelecimento" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">CNPJ</label>
                <input type="text" id="cnpj" required maxlength="18"
                       placeholder="00.000.000/0000-00">
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Estilo da Culinária</label>
                <select id="culinaria" required>
                    <option value="">Selecione...</option>
                    <option value="brasileira">Brasileira</option>
                    <option value="italiana">Italiana</option>
                    <option value="japonesa">Japonesa</option>
                    <option value="mexicana">Mexicana</option>
                    <option value="outros">Outros</option>
                </select>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">CEP</label>
                <input type="text" id="cep" required maxlength="8"
                       placeholder="00000000" onblur="consultaCEP()">
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Logradouro</label>
                <input type="text" id="logradouro" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Rua</label>
                <input type="text" id="rua" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Número</label>
                <input type="text" id="numero" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Bairro</label>
                <input type="text" id="bairro" required>
            </div>

            <div class="form-group">
                <label style="text-align: left;">Complemento</label>
                <input type="text" id="complemento">
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">Cidade</label>
                <input type="text" id="cidade" required>
            </div>

            <div class="form-group">
                <label class="required" style="text-align: left;">UF</label>
                <select id="uf" required>
                    <option value="">Selecione...</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">São Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>
            </div>

            <div class="buttons">
                <button type="submit" class="btn-primary">Avançar</button>
                <button type="button" class="btn-secondary" onclick="window.location.href='index.html'">Voltar</button>
            </div>
        </form>
    </div>

    <style>
    .responsive-form {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
    }
    
    .form-group {
        margin-bottom: 15px;
        width: 100%;
    }

    .form-group label {
        color: #000; /* cor preta para a descrição dos campos */
    }
    
    .form-group input,
    .form-group select {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
    }
    
    @media (max-width: 600px) {
        .form-group {
            padding: 0 10px;
        }
    }
    </style>

    <script>
    // Máscara para CNPJ
    document.getElementById('cnpj').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 14) value = value.slice(0, 14);
        if (value.length >= 14) {
            value = value.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, "$1.$2.$3/$4-$5");
        }
        e.target.value = value;
    });

    // Máscara para telefone (mantendo o código existente)
    document.getElementById('telefone').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 11) value = value.slice(0, 11);
        if (value.length >= 11) {
            value = `(${value.slice(0,2)}) ${value.slice(2,7)}-${value.slice(7)}`;
        } else if (value.length >= 6) {
            value = `(${value.slice(0,2)}) ${value.slice(2,6)}-${value.slice(6)}`;
        }
        e.target.value = value;
    });
    </script>

    <script>
        async function consultaCEP() {
            const cep = document.getElementById('cep').value.replace(/\D/g, '');
            if (cep.length !== 8) return;

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();
                
                if (!data.erro) {
                    document.getElementById('logradouro').value = data.logradouro;
                    document.getElementById('bairro').value = data.bairro;
                    document.getElementById('cidade').value = data.localidade;
                    document.getElementById('uf').value = data.uf;
                }
            } catch (error) {
                console.error('Erro ao consultar CEP:', error);
            }
        }

        function validarFormulario() {
            const telefone = document.getElementById('telefone').value;
            const cnpj = document.getElementById('cnpj').value;

            // Validação do telefone
            const telefoneRegex = /^\([0-9]{2}\) [0-9]{4,5}-[0-9]{4}$/;
            if (!telefoneRegex.test(telefone)) {
                alert('Telefone inválido! Use o formato (00) 00000-0000');
                return false;
            }

            // Validação básica do CNPJ
            if (cnpj.length !== 14) {
                alert('CNPJ inválido!');
                return false;
            }

            return true;
        }

        // Máscara para telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            if (value.length >= 11) {
                value = `(${value.slice(0,2)}) ${value.slice(2,7)}-${value.slice(7)}`;
            } else if (value.length >= 6) {
                value = `(${value.slice(0,2)}) ${value.slice(2,6)}-${value.slice(6)}`;
            }
            e.target.value = value;
        });
    </script>
    <footer>
        <p>&copy; 2024 IcardDigital. Todos os direitos reservados.</p>
    </footer>
</body>
</html>
